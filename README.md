# taosync
tao-sync是一个适用于AList V3的自动化同步工具，目前正处于早期版本，出于安全考虑暂不开源，待系统完善到一定程度后再开源

本工具主要用于同步备份功能，可以定时扫描指定目录下文件差异，让目标目录与源目录相同（全同步模式）；或仅新增存在于源目录，却不存在于目标目录的文件（仅新增模式）

桃桃是我女儿的名字，我女儿的名字叫桃桃。本工具以我女儿的名字命名，意为：桃桃的自动同步工具

# 警告！不要在外网暴露本系统！本系统尚未完善安全性，目前仅靠强密码来保证安全，若您使用弱密码，毫无安全可言！

## 须知

本工具不使用AList源码而是使用api来实现相关功能。使用本工具前你必须了解并且会使用[AList](https://github.com/alist-org/alist)

本工具没有集成`AList`，你需要额外启动`AList`

## 使用方法

```sh
docker run -d -p 9000:9000 -v /opt/data:/app/data --name=taoSync dr34m/tao-sync:latest
```

把其中`/opt/data`替换为你实际的目录，然后访问`http://127.0.0.1:9000`

如果你没有修改，默认账号为`admin`，密码为`tao123`，建议登录后立即前往系统设置修改密码

进入系统后先到`引擎管理`菜单创建引擎，然后前往`作业管理`创建同步作业

## 环境变量及其意义

| 变量名           | 描述                                                         | 默认值 |
| ---------------- | ------------------------------------------------------------ | ------ |
| TAO_PORT         | 运行端口                                                     | 9000   |
| TAO_USER         | 管理员用户名，首次运行后再修改无效                           | admin  |
| TAO_PASSWD       | 管理员密码，首次运行后再修改无效                             | tao123 |
| TAO_EXPIRES      | 登录有效期，单位天                                           | 2      |
| TAO_LOG_LEVEL    | 日志等级：0-DEBUG，1-INFO，2-WARNING，3-ERROR，4-CRITICAL；数值越大，产生的日志越少，推荐1或2 | 1      |
| TAO_LOG_SAVE     | 系统日志保留天数，超过该天数会自动清理，单位天               | 7      |
| TAO_TASK_SAVE    | 任务记录保留天数，超过该天数会自动清理，单位天               | 30     |
| TAO_TASK_TIMEOUT | 任务执行超时时间，单位小时。一定要设置长一点，以免要备份的东西太多 | 48     |

## 页面截图

![引擎列表](README/引擎列表.png)

![引擎编辑](README/引擎编辑.png)

![新建作业](README/新建作业.png)

![作业列表](README/作业列表.png)

![任务列表](README/任务列表.png)

![任务详情](README/任务详情.png)
